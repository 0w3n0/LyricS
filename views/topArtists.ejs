<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top Tracks</title>
    <!-- <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/home.css"> -->
    <link rel="stylesheet" href="/css/h.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

</head>

<body>
    <%- include('header.ejs') %>
    <main>

        <h1 id="h1Modif">Top 20 des artistes les plus écoutés (shortterm)</h1>

            <div class="button-container-timerange">
                <button class="btn-timerange-self" onclick="displayvisiblesection('shortt')">4 Semaines</button>
                <button class="btn-timerange-self" onclick="displayvisiblesection('midt')">6 Mois</button>
                <button class="btn-timerange-self" onclick="displayvisiblesection('longt')">All Time</button>
            </div>

        <section id="shortt" class="animate__animated animate__fadeIn">

            <div class="tracks-container">

                <% recentTopArtists.forEach(track=> { %>
                    <div class="track">
                        <div class="track-image">
                            <% if(track.images.length> 0) { %>
                                <img src="<%= track.images[0].url %>" alt="<%= track.name %>">
                            <% } else { %>
                                    <img src="../images/user-defaut-pp.jpg" alt="<%= track.name %>">
                            <% } %>
                        </div>
                        <div class="track-info">
                            <a href="/artist/<%= track.id %>">
                                <h2>
                                    <%= track.name %>
                                </h2>
                            </a>
                        </div>
                    </div>
                <% }); %>
            </div>

        </section>


        <section id="midt" class="section-visible animate__animated animate__fadeIn">
            
            <div class="tracks-container">

                <% MidTermTopArtists.forEach(track=> { %>
                    <div class="track">
                        <div class="track-image">
                            <% if(track.images.length> 0) { %>
                                <img src="<%= track.images[0].url %>" alt="<%= track.name %>">
                            <% } else { %>
                                    <img src="../images/user-defaut-pp.jpg" alt="<%= track.name %>">
                            <% } %>
                        </div>
                        <div class="track-info">
                            <a href="/artist/<%= track.id %>">
                                <h2>
                                    <%= track.name %>
                                </h2>
                            </a>
                        </div>
                    </div>
                <% }); %>
            </div>

        </section>

        <section id="longt" class="section-visible animate__animated animate__fadeIn">

            <div class="tracks-container">

                <% longTermTopArtists.forEach(track=> { %>
                    <div class="track">
                        <div class="track-image">
                            <% if(track.images.length> 0) { %>
                                <img src="<%= track.images[0].url %>" alt="<%= track.name %>">
                            <% } else { %>
                                    <img src="../images/user-defaut-pp.jpg" alt="<%= track.name %>">
                            <% } %>
                        </div>
                        <div class="track-info">
                            <a href="/artist/<%= track.id %>">
                                <h2>
                                    <%= track.name %>
                                </h2>
                            </a>
                        </div>
                    </div>
                <% }); %>
            </div>

        </section>


    </main>


    <script src="../test/h.js"></script>

    <script>
        function displayvisiblesection(id) {
            const h1Modif = document.getElementById("h1Modif");

            if (id === "shortt") {
                h1Modif.innerHTML = "Top 20 des artistes les plus écoutés (shortterm)";
                document.getElementById("midt").style.display = 'none';
                document.getElementById("longt").style.display = 'none';
                document.getElementById(id).style.display = 'block';
            }

            else if (id === "midt") {
                h1Modif.innerHTML = "Top 20 des artistes les plus écoutés (midterm)";
                document.getElementById("shortt").style.display = 'none';
                document.getElementById("longt").style.display = 'none';
                document.getElementById(id).style.display = 'block';
            }

            else if (id === "longt") {
                h1Modif.innerHTML = "Top 20 des artistes les plus écoutés (longterm)";
                document.getElementById("shortt").style.display = 'none';
                document.getElementById("midt").style.display = 'none';
                document.getElementById(id).style.display = 'block';
                //r           
            }

        }
        
    </script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

</body>

</html>